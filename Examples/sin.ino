#include "PowerLib.h"
#define N 100
double I100[100]={0, -0.15863966749033928, 0.3171195982828246, -0.4752802165209141, 0.6329622678687503, -0.7900069798667566, 0.9462562218020526, -1.1015526639327164, 1.255739935905404, -1.4086627842071509, 1.5601672284924495, -1.7101007166283522, 1.8583122783016406, -2.004652677033066, 2.148974560445883, -2.2911326086370716, 2.430983680502358, -2.568386957867041, 2.7032040872779923, -2.8352993193138825, 2.9645396452732258, -3.0907949311030447, 3.21393804843271, -3.3338450025814677, 3.4503950574105646, -3.563470856894315, 3.6729585432876632, -3.778747871771331, 3.880732321458819, -3.9788092026541904, 4.072879760251704, -4.162849273173878, 4.248627149747589, -4.330127018922207, 4.40726681723792, -4.479968871456687, 4.548159976772596, -4.611771470522909, 4.6707393013255585, -4.7250040935733635, 4.774511207220387, -4.8192107927997245, 4.8590578416177195, -4.894012231073902, 4.924038765061047, -4.9491072094046675, 4.969192322306274, -4.984273879759713, 4.99433669591504, -4.999370638369375, 4.999370638369375, -4.99433669591504, 4.984273879759712, -4.969192322306272, 4.949107209404646, -4.92403876506102, 4.894012231073871, -4.859057841617684, 4.819210792799684, -4.774511207220342, 4.725004093573314, -4.670739301325504, 4.611771470522878, -4.5481599767725625, 4.47996887145665, -4.407266817237882, 4.330127018922166, -4.248627149747547, 4.162849273173833, -4.072879760251657, 3.9788092026541415, -3.880732321458768, 3.778747871771278, -3.6729585432876566, 3.563470856894308, -3.4503950574104545, 3.3338450025813544, -3.213938048432594, 3.0907949311029252, -2.9645396452731037, 2.8352993193137572, -2.7032040872778937, 2.568386957866941, -2.4309836805022558, 2.291132608636968, -2.1489745604457777, 2.0046526770329924, -1.8583122783015658, 1.710100716628276, -1.5601672284923727, 1.4086627842070905, -1.2557399359053427, 1.101552663932655, -0.9462562218020082, 0.790006979866712, -0.6329622678687142, 0.4752802165208867, -0.3171195982828015, 0.15863966749032282, 9.82193361864236e-15};
double V100[100]={3.5355339059327373, -3.6459290991058864, 3.7526531507284115, -3.8555985987269414, 3.9546617857616457, -4.049742963600424, 4.140746393556857, -4.227580442891031, 4.310157677075853, -4.388394947836281, 4.46221347687255, -4.531538935183248, 4.596301517908324, -4.656436014616663, 4.7118818749674745, -4.762583269679305, 4.808489146745466, -4.849553282839025, 4.885734329855796, -4.916995856548374, 4.943306385209291, -4.964639423366442, 4.980973490458728, -4.992292139465166, 4.998583973465645, -4.999842657116665, 4.996066923030484, -4.987260573051264, 4.973432474426962, -4.95459655088073, 4.930771768590928, -4.90198211709378, 4.868256585127951, -4.829629131445338, 4.786138650617492, -4.737828933872074, 4.68474862499881, -4.626951171369308, 4.564494770120066, -4.497442309552993, 4.425861305812061, -4.349823834900375, 4.269406460105723, -4.184690154907833, 4.095760221444946, -4.002706204621792, 3.9056218019454603, -3.8046047691799534, 3.6997568219144195, -3.591183533144174, 3.4789942269676466, -3.3633018685062748, 3.2442229501582096, -3.121877374300339, 2.996388332556648, -2.8678821817551463, 2.7364883166965805, -2.6023390398652833, 2.4655694282116767, -2.3263171971412318, 2.1847225618467307, -2.0409280961234524, 1.8950785888094437, -1.747320897995438, 1.597803803151201, -1.4466778553172197, 1.2940952255125648, -1.1402095515115738, 0.9851757831436359, -0.8291500262718475, 0.6722893856076416, -0.5147518065196599, 0.35669591599615513, -0.19828086292106034, 0.0396661578245531, 0.1189884877306693, -0.27752332196482704, 0.43577871373841087, -0.59359531328664, 0.7508142126713097, -0.9072771057876149, 1.062826447765118, -1.2173056136015221, 1.3705590558716079, -1.5224324613497475, 1.6727729063903818, -1.8214290109091689, 1.9682510908098962, -2.113091308703679, 2.2558038227686774, -2.39624493360045, 2.534273228905073, -2.6697497258893312, 2.8025380112046125, -2.9325043783035865, 3.0595179620713604, -3.183450870595561, 3.3041783139426473, -3.4215787298107965, 3.5355339059328355};

double I200[200]={0,4.999844234470782,-0.07893121006818508,-4.99859816846739,0.1578427488240532,4.996106347006378,-0.2367149498577886,-4.992369391101894,0.31552815656336936,4.987388232081694,-0.394262727037386,-4.981164111355033,0.47289903897422203,4.973698580103284,-0.5514174945563749,-4.964993498893347,0.62979852533859,4.955051037213961,-0.7080225971247628,-4.9438736729350135,0.786070214836261,4.931464191690011,-0.8639219273705073,-4.91782568618185,0.9415583324485841,4.902961555412023,-1.018960081450775,-4.886875503833535,1.0961078842384562,4.869571540427691,-1.1729825139618628,-4.851053977704928,1.2495648118515463,4.83132743063011,-1.3258356919933831,-4.81039681547231,1.4017761460850813,4.788267348579647,-1.4773672481733449,-4.76494454507919,1.552590159370858,4.740434217502545,-1.6274261325510917,-4.7147424743371875,1.7018565170205826,4.6878757185041335,-1.7758627631671462,-4.659840645762163,1.849426427082724,4.6306442430392,-1.9225291751600302,-4.600293786690871,1.995152788661732,4.568796840687189,-2.0672791682606837,-4.536161254727389,2.138890338551047,4.502395162283746,-2.2099684525278813,-4.467506978574365,2.2804957960351153,4.431505398466045,-2.3504547921800367,-4.39439939430731,2.419828005714202,4.35619821369228,-2.4885981473784105,-4.316911377156106,2.5567480782116148,4.276548675802056,-2.624260813822371,-4.235120168861498,2.691119528621459,4.1926361811869,-2.7573075600155406,-4.149107300678611,2.822808412559581,4.104544375646303,-2.8876057620679796,-4.058958512105103,2.9516834596826658,4.0123610710078985,-3.015025535898084,-3.9647636654138676,3.077616204540951,3.91617815759448,-3.139439866704279,-3.8666166560766877,3.200481114635566,3.816091512625799,-3.2607247355758973,-3.764615319166898,3.3201557155521626,3.712200904646391,-3.3787592431180915,-3.6588613318354173,3.4365207130459057,3.604609894073578,-3.4934257299665568,-3.5494601119566207,3.549460111956628,3.49342572996655,-3.6046098940735845,-3.4365207130458986,3.658861331835425,3.378759243118084,-3.712200904646398,-3.3201557155521555,3.764615319166904,3.26072473557589,-3.816091512625897,-3.2004811146355587,3.866616656076695,3.1394398667042718,-3.916178157594486,-3.0776162045408313,3.9647636654138734,3.0150255358980758,-4.012361071007904,-2.9516834596826005,4.05895851210515,2.887605762067971,-4.104544375646309,-2.8228084125595734,4.149107300678657,2.7573075600154735,-4.192636181186867,-2.6911195286214507,4.2351201688615046,2.6242608138223025,-4.276548675802098,-2.5567480782116676,4.316911377156111,2.488598147378402,-4.35619821369232,-2.4198280057141313,4.394399394307281,2.3504547921800283,-4.43150539846605,-2.280495796035043,4.467506978574401,2.209968452527936,-4.502395162283751,-2.1388903385510383,4.536161254727423,2.06727916826061,-4.568796840687164,-1.995152788661723,4.600293786690876,1.922529175160021,-4.63064424303923,-1.849426427082649,4.659840645762166,1.775862763167137,-4.687875718504137,-1.7018565170205067,4.714742474337215,1.6274261325510821,-4.740434217502549,-1.552590159370815,4.764944545079214,1.4773672481732678,-4.788267348579639,-1.4017761460849354,4.810396815472322,1.3258356919934764,-4.831327430630131,-1.2495648118515712,4.851053977704965,1.1729825139618189,-4.8695715404276685,-1.0961078842383774,4.886875503833529,1.0189600814506263,-4.902961555412025,-0.9415583324486791,4.917825686181864,0.8639219273705327,-4.931464191690036,-0.786070214836234,4.943873672934999,0.7080225971246829,-4.955051037213956,-0.6297985253384569,4.96499349889335,0.551417494556471,-4.973698580103292,-0.47289903897426533,4.981164111355045,0.3942627270373673,-4.987388232081687,-0.3155281565632975,4.992369391101892,0.23671494985766345,-4.9961063470063785,-0.15784274882415436,4.9985981684673915,0.07893121006823078,-4.999844234470783,9.82193361864236e-15};
double V200[200]={3.5355339059327373,3.5075164967294925,-3.590906135233854,-3.4508278174020113,3.6453834354438523,3.3932791194369107,-3.698952229677417,-3.334884745176217,3.7515991674679814,3.2756592477222157,-3.8033111280949172,-3.215617387310516,3.85407522385351,3.1547741276314922,-3.903878803266844,-3.0931446321010148,3.952709454238812,3.030744260081428,-4.000555007147474,-2.9675885630536145,4.047403537877977,2.903693280741328,-4.093243370794289,-2.8390743371884786,4.13806308164904,2.7737478367905015,-4.181851500430673,-2.7077300602808165,4.224597714147177,2.64103746067343,-4.266291069545974,-2.5736866591622936,4.30692117576877,2.5056944409791937,-4.346477906941318,-2.437077751210275,4.384951404696931,2.367853690573217,-4.422332080633351,-2.2980395111551295,4.458610618702491,2.2276526121132183,-4.493777977532082,-2.1567105353383322,4.527825392679014,2.085230961083282,-4.560744378813656,-2.013231703556454,4.592526731834527,1.940730706482395,-4.623164530912946,-1.8677460386294722,4.652650140467099,1.794295889307015,-4.680976212064874,-1.7203985638320267,4.708135686255409,1.6460724789673837,-4.734121794328346,-1.5713361583315901,4.758928060000785,1.4962082277825726,-4.782548301031219,-1.4207074107756565,4.804976630760416,1.344852523697223,-4.826207459578405,-1.2686624711755425,4.846235496317545,1.1921562413689355,-4.865055749571219,-1.115352901233799,4.882663528937718,1.0382715917726522,-4.899054446189302,-0.9609315232637289,4.91422441636576,0.8833519704736505,-4.928169658792503,-0.8055522678533343,4.940886698022736,0.7275518047197191,-4.952372364703686,-0.6493700204234026,4.962623796366434,0.5710263995042993,-4.971638438139263,-0.49254046683490976,4.979414043384487,0.4139317827552287,-4.985948674258239,-0.3352199381974771,4.99124070219353,0.2564245498032044,-4.995288808306043,-0.17756525503540263,4.998091983722861,0.09866170728330437,-4.999649529833913,-0.019733570965339405,4.999961058466051,-0.05919948337207614,-4.999026491979809,0.1381177839572789,4.996846063288744,-0.2170016626949816,-4.993420315801408,0.2958314600691111,4.988750103285881,-0.3745875300413777,-4.982836589657038,0.4532502449479067,4.9756812486864614,-0.5318000003912874,-4.967285863635108,0.6102172201255507,4.957652526808967,-0.6884823609354056,-4.946783639037501,0.7665759175072402,4.934681909075423,-0.8444784272892686,-4.921350352927573,0.922170475343132,4.906792293097187,-0.9996326991815258,-4.891011357758032,1.0768457935941593,4.87401147984998,-1.1537905154594346,-4.855796896099029,1.2304476885392643,4.836372145961351,-1.3067982082592988,-4.815742070491844,1.3828230464692215,4.793911811137891,-1.4585032561853775,-4.770886808457709,1.5338199763131661,4.746672800764716,-1.608754436346669,-4.721275822697317,1.6832879610477383,4.694702203714792,-1.7574019750993117,-4.666958566520196,1.8310780077351774,4.6380518254094545,-1.9042976973436736,-4.607989184548521,1.9770427960429893,4.576778136177811,-2.04929517422932,-4.544426458744795,2.1210368250955343,4.5109422149657865,-2.192249869117936,-4.476333749816385,2.262916558513253,4.440609688451539,-2.3330192816608535,-4.403778934056343,2.402540567492573,4.365850665626939,-2.471463089845992,-4.326834335682974,2.5397696717842244,4.286739667911833,-2.607443289874775,-4.24557665474545,2.6744670784332585,4.203355554869376,-2.740824333726435,-4.160086890667001,2.8064985181348905,4.115781445596557,-2.8714732642755054,-4.070450261503805,2.935732379079128,4.024104635870346,-2.999259847827177,-3.976756118997373,3.0620398381426077,3.9284165111281033,-3.1240567039354477,-3.8790978595062424,3.185294989303025,3.828812455373725,-3.2457394323805593,-3.777572830907665,3.305374969145637,3.7253917560963323,-3.364186737172256,-3.672282235557713,3.4221600793346463,3.6182575052977493,-3.479280547460966,-3.5633310294118337,3.5355339059328355};

double I[10]={0,1,2,3,4,5,6,7,8,9};
double V[10]={0,1,2,3,4,5,6,7,8,9};

void setup() 
{
  Serial.begin(9600);
  // Create an instance of the Power class with the generated waveforms
  Power power(I100, V100 , 100);
  // Calculate and print the power values
  power.print();
  //power.clear();
  //power.print();
  //power.push(100,100);
  //power.print();
  Serial.println(power.Req());
  Serial.println(power.Xeq());
  Serial.println(power.Zeq());




}

void loop()
{

}
